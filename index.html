<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OB Dripwear</title>
  <script src="https://js.yoco.com/sdk/v1/yoco-sdk-web.js"></script>
  <style>
    /* ...[CSS remains the same as earlier provided code, omitted here for brevity]... */
  </style>
</head>
<body>
  <!-- Hero Section -->
  <section class="hero">
    <video autoplay muted loop playsinline>
      <source src="your-video.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <div class="hero-content">
      <div class="logo">OB DRIPWEAR</div>
      <h2>Street Style. Clean Drip. Iconic Energy.</h2>
      <a href="#shop"><button class="shop-btn">Click to Shop</button></a>
    </div>
    <div class="scroll-down">âŒ„</div>
  </section>

  <!-- Product Sections -->
  <section id="shop" class="products-section">
    <h2>Sneakers</h2>
    <p>Fresh kicks to elevate your style</p>
    <div class="product-grid" id="sneakers-grid"></div>
    <button class="btn-view-all">View All Sneakers</button>
  </section>

  <section class="products-section" style="background:#222;">
    <h2>Clothes</h2>
    <p>Urban streetwear & comfy fits</p>
    <div class="product-grid" id="clothes-grid"></div>
    <button class="btn-view-all">View All Clothes</button>
  </section>

  <section class="products-section">
    <h2>Weaves</h2>
    <p>Stylish weaves & hair accessories</p>
    <div class="product-grid" id="weaves-grid"></div>
    <button class="btn-view-all">View All Weaves</button>
  </section>

  <!-- Cart Button -->
  <button id="cart-btn" title="View Cart">ðŸ›’</button>

  <!-- Cart Modal -->
  <div id="cart-modal">
    <h3>Your Cart</h3>
    <div id="cart-items"></div>
    <button id="checkout-btn">Checkout with Yoco</button>
  </div>

  <script>
    const products = {
      sneakers: [
        { id: 's1', name: 'Gold Flex Runner', price: 1500, img: 'https://via.placeholder.com/180x140?text=Gold+Flex+Runner' },
        { id: 's2', name: 'Midnight Air', price: 1800, img: 'https://via.placeholder.com/180x140?text=Midnight+Air' },
        { id: 's3', name: 'Urban Classic', price: 1200, img: 'https://via.placeholder.com/180x140?text=Urban+Classic' }
      ],
      clothes: [
        { id: 'c1', name: 'Street Hoodie', price: 800, img: 'https://via.placeholder.com/180x140?text=Street+Hoodie' },
        { id: 'c2', name: 'Black Tee', price: 350, img: 'https://via.placeholder.com/180x140?text=Black+Tee' },
        { id: 'c3', name: 'Denim Jacket', price: 1200, img: 'https://via.placeholder.com/180x140?text=Denim+Jacket' }
      ],
      weaves: [
        { id: 'w1', name: 'Classic Weave', price: 400, img: 'https://via.placeholder.com/180x140?text=Classic+Weave' },
        { id: 'w2', name: 'Silky Smooth', price: 550, img: 'https://via.placeholder.com/180x140?text=Silky+Smooth' },
        { id: 'w3', name: 'Volume Boost', price: 700, img: 'https://via.placeholder.com/180x140?text=Volume+Boost' }
      ]
    };

    function createProductCard(product) {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${product.img}" alt="${product.name}" />
        <div class="product-name">${product.name}</div>
        <div class="product-price">R ${product.price}</div>
        <button class="btn-add-cart" data-id="${product.id}">Add to Cart</button>
      `;
      return card;
    }

    Object.entries(products).forEach(([category, items]) => {
      const grid = document.getElementById(`${category}-grid`);
      items.forEach(product => {
        grid.appendChild(createProductCard(product));
      });
    });

    let cart = JSON.parse(localStorage.getItem('obdripwearCart')) || [];

    const cartBtn = document.getElementById('cart-btn');
    const cartModal = document.getElementById('cart-modal');
    const cartItemsContainer = document.getElementById('cart-items');
    const checkoutBtn = document.getElementById('checkout-btn');

    function saveCart() {
      localStorage.setItem('obdripwearCart', JSON.stringify(cart));
    }

    function renderCart() {
      cartItemsContainer.innerHTML = '';
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
        checkoutBtn.style.display = 'none';
        return;
      }
      checkoutBtn.style.display = 'block';
      cart.forEach(item => {
        const product = Object.values(products).flat().find(p => p.id === item.id);
        if (!product) return;
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <span>${product.name} x ${item.qty}</span>
          <span>R ${product.price * item.qty}</span>
          <button class="remove-btn" data-id="${item.id}">&times;</button>
        `;
        cartItemsContainer.appendChild(div);
      });
      document.querySelectorAll('.remove-btn').forEach(btn => {
        btn.onclick = e => {
          const id = e.target.getAttribute('data-id');
          cart = cart.filter(i => i.id !== id);
          saveCart();
          renderCart();
        };
      });
    }

    document.body.addEventListener('click', e => {
      if (e.target.classList.contains('btn-add-cart')) {
        const id = e.target.getAttribute('data-id');
        const found = cart.find(item => item.id === id);
        if (found) {
          found.qty++;
        } else {
          cart.push({ id: id, qty: 1 });
        }
        saveCart();
        alert('Added to cart!');
        renderCart();
      }
    });

    cartBtn.onclick = () => {
      cartModal.style.display = cartModal.style.display === 'block' ? 'none' : 'block';
      if (cartModal.style.display === 'block') {
        renderCart();
      }
    };

    const yoco = new window.YocoSDK({
      publicKey: 'your_public_key_here' // Replace this with your real Yoco public key
    });

    checkoutBtn.onclick = () => {
      if (cart.length === 0) {
        alert('Your cart is empty!');
        return;
      }

      let totalAmount = 0;
      cart.forEach(item => {
        const product = Object.values(products).flat().find(p => p.id === item.id);
        if (product) {
          totalAmount += product.price * item.qty * 100; // convert to cents
        }
      });

      yoco.showPopup({
        amountInCents: totalAmount,
        currency: 'ZAR',
        name: 'OB Dripwear Checkout',
        description: `Payment for ${cart.length} items`
      }, result => {
        if (result.error) {
          alert('Payment failed: ' + result.error.message);
        } else {
          window.location.href = 'confirmation.html';
        }
      });
    };
  </script>
</body>
</html>
